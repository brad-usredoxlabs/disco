title: "Run UI Configuration"
recordType: "run"

layout:
  fields:
    kind:
      group: "metadata"
      order: 0
      ui:
        readOnly: true
    state:
      group: "metadata"
      order: 5
      ui:
        component: select
        options: ["draft", "in_review", "approved", "archived"]
    recordId:
      group: "metadata"
      order: 8
      ui:
        readOnly: true
    experimentShortSlug:
      group: "metadata"
      order: 9
      ui:
        readOnly: true
    createdAt:
      group: "metadata"
      order: 10
      ui:
        readOnly: true
    createdBy:
      group: "metadata"
      order: 12
      ui:
        readOnly: true

    experimentId:
      group: "header"
      order: 20
      jsonLd:
        target: data
        section: links
        key: experiment
      ui:
        width: 6
    protocol:
      group: "header"
      order: 25
      jsonLd:
        target: data
        section: links
        key: protocol
      ui:
        component: ProtocolReferenceField
        width: 6
    runId:
      group: "header"
      order: 30
      jsonLd:
        target: metadata
        key: runId
      ui:
        width: 6
    plateId:
      group: "header"
      order: 40
      jsonLd:
        target: data
        section: operations
        key: plateId
      ui:
        width: 6

    startedAt:
      group: "timeline"
      order: 50
      jsonLd:
        target: data
        section: operations
        key: startedAt
      ui:
        width: 6
    completedAt:
      group: "timeline"
      order: 60
      jsonLd:
        target: data
        section: operations
        key: completedAt
      ui:
        width: 6

    notes:
      group: "details"
      order: 70
      jsonLd:
        target: data
        section: operations
        key: notes
      ui:
        component: textarea
        props:
          rows: 4
    operator:
      group: "details"
      order: 90
      jsonLd:
        target: data
        section: operations
        key: operator
      ui:
        display: "table"

    binaryDataFiles:
      group: "artifacts"
      order: 100
      jsonLd:
        target: data
        section: links
        key: binaryDataFiles
      ui:
        component: list

    assayType:
      group: "ontology"
      order: 110
      jsonLd:
        target: data
        section: biology
        key: assayType
      ui:
        summaryField: label
    outputType:
      group: "ontology"
      order: 120
      jsonLd:
        target: data
        section: biology
        key: outputType
      ui:
        summaryField: label
    obiType:
      group: "ontology"
      order: 130
      jsonLd:
        target: data
        section: biology
        key: obiType
      ui:
        summaryField: label
    biology:
      group: "biology"
      order: 140
      ui:
        fieldType: "ontologyList"
        vocab: "biological-entity"
        valuePath: "entities"
        helpText: "Override experiment biology when this run has unique entities."
        columns:
          - key: domain
            label: "Domain"
            enum:
              - taxon
              - cell_line
              - tissue
              - pathway
              - phenotype
              - compound
              - assay_material
              - other
          - key: role
            label: "Role"
            enum:
              - sample
              - target
              - positive_control
              - negative_control
              - reference
              - spike_in
              - background
              - assay_material
              - other
      jsonLd:
        target: data
        section: biology
        key: entities
    protocolParameters:
      group: "details"
      order: 95
      ui:
        component: JsonEditor
      jsonLd:
        target: data
        section: operations
        key: protocolParameters
