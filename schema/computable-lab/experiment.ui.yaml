title: "Experiment UI Configuration"
recordType: "experiment"

layout:
  fields:
    recordType:
      group: "metadata"
      order: 0
      ui:
        readOnly: true
    state:
      group: "metadata"
      order: 5
      ui:
        component: select
        options: ["draft", "in_review", "approved", "archived"]
    recordId:
      group: "metadata"
      order: 8
      ui:
        readOnly: true
    studyShortSlug:
      group: "metadata"
      order: 9
      ui:
        readOnly: true
    createdAt:
      group: "metadata"
      order: 10
      ui:
        readOnly: true
    createdBy:
      group: "metadata"
      order: 12
    shortSlug:
      group: "header"
      order: 10
      ui:
        width: 3
    studyId:
      group: "header"
      order: 20
      ui:
        width: 6
        collapsible: true
        navigation:
          relationship: "parent"
          showParent: true
          defaultExpanded: false
    protocolId:
      group: "header"
      order: 30
      ui:
        width: 6
        collapsible: false

    runs:
      group: "relationships"
      order: 40
      jsonLd:
        target: data
        section: links
        key: runs
      ui:
        collapsible: true
        display: "list"
        summaryField: "id"
        navigation:
          relationship: "child"
          relatedType: "run"
          showChildren: true
          allowDrillDown: true

    samples:
      group: "entities"
      order: 50
      jsonLd:
        target: data
        section: links
        key: samples
      ui:
        display: "table"
        collapsible: false

    biologicalEntities:
      group: "entities"
      order: 55
      jsonLd:
        target: data
        section: operations
        key: biologicalEntities
      ui:
        fieldType: "ontologyList"
        vocab: "biological-entity"
        helpText: "Structured list of organisms, tissues, pathways, etc., associated with this experiment."
        columns:
          - key: domain
            label: "Domain"
            enum:
              - taxon
              - cell_line
              - tissue
              - pathway
              - phenotype
              - compound
              - assay_material
              - other
          - key: role
            label: "Role"
            enum:
              - sample
              - target
              - positive_control
              - negative_control
              - reference
              - spike_in
              - background
              - assay_material
              - other

    reagents:
      group: "entities"
      order: 60
      jsonLd:
        target: data
        section: operations
        key: reagents
      ui:
        collapsible: true
        fieldType: "ontologyList"
        vocab: "reagents"

    instruments:
      group: "entities"
      order: 70
      jsonLd:
        target: data
        section: operations
        key: instruments
      ui:
        display: "table"
        collapsible: true

    qcResults:
      group: "qc"
      order: 80
      jsonLd:
        target: data
        section: links
        key: qcResults
      ui:
        display: "table"
        collapsible: true

    attachments:
      group: "attachments"
      order: 90
      jsonLd:
        target: data
        section: links
        key: binaryDataFiles
      ui:
        display: "table"
        collapsible: true
    binaryDataFiles:
      group: "attachments"
      order: 95
      jsonLd:
        target: data
        section: links
        key: binaryDataFiles
      ui:
        display: "list"
        collapsible: true

    measurementType:
      group: "ontology"
      order: 100
      jsonLd:
        target: data
        section: biology
        key: measurementType
      ui:
        collapsible: true
        summaryField: "label"
        fieldType: "ontology"
        vocab: "reagents"

    technologyType:
      group: "ontology"
      order: 110
      jsonLd:
        target: data
        section: biology
        key: technologyType
      ui:
        collapsible: true
        summaryField: "label"
        fieldType: "ontology"
        vocab: "reagents"

    factorValues:
      group: "ontology"
      order: 120
      jsonLd:
        target: data
        section: biology
        key: factorValues
      ui:
        collapsible: true
        fieldType: "ontology"
        vocab: "reagents"

    obiType:
      group: "ontology"
      order: 130
      jsonLd:
        target: data
        section: biology
        key: obiType
      ui:
        collapsible: true
        summaryField: "label"
        fieldType: "ontology"
        vocab: "reagents"

    recipeCard:
      group: "details"
      order: 140
      jsonLd:
        target: data
        section: operations
        key: recipeCard
      ui:
        fieldType: "recipeCard"
        vocab: "reagents"
