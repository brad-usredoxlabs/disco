$schema: "http://json-schema.org/draft-07/schema#"
$id: "plate-event.read.schema.yaml"

title: PlateEventReadDetails
type: object
description: "Details for a plate read / imaging event."

required:
  - type
  - labware
  - instrument
  - mode

properties:
  type:
    type: string
    const: "read"

  labware:
    $ref: "./labware-ref.schema.yaml"

  instrument:
    type: string
    description: "Plate reader or imaging instrument @id or label."

  mode:
    type: string
    description: "Read mode, e.g. 'fluorescence', 'luminescence', 'brightfield'."

  channels:
    type: array
    description: "Optional list of channels."
    items:
      type: string
      minLength: 1

  acquisitions:
    type: array
    description: "One or more acquisition timepoints/slices."
    minItems: 1
    items:
      type: object
      required: ["timepoint"]
      additionalProperties: false
      properties:
        timepoint:
          type: string
          description: "Relative or named timepoint label (e.g., '-30 min', '0 min', '5 min')."
        acquired_at:
          type: string
          format: date-time
        files:
          type: array
          items:
            type: object
            additionalProperties: false
            properties:
              label:
                type: string
              uri:
                type: string
                format: uri
              record_ref:
                type: string
                description: "Optional reference to another record containing the result."
        metrics:
          type: object
          description: "Optional computed metrics for this acquisition."
          additionalProperties: true
        settings:
          type: object
          description: "Optional instrument settings for this slice."
          additionalProperties: true

additionalProperties: false
