study:
  idField: "id"
  shortSlugField: "shortSlug"
  baseDir: "studies"
  filenamePattern: "{{id}}_{{title_sanitized}}.yaml"
  idGeneration:
    prefix: "STD"
    format: "STD-{counter:0000}"
    counterFile: ".counters/study.counter"

experiment:
  idField: "id"
  shortSlugField: "shortSlug"
  baseDir: "experiments"
  filenamePattern: "{{studyShortSlug}}_{{shortSlug}}_{{title_sanitized}}.yaml"
  idGeneration:
    prefix: "EXP"
    format: "EXP-{counter:0000}"
    counterFile: ".counters/experiment.counter"
  derivedFields:
    studyShortSlug:
      sourceRecordType: "study"
      sourceField: "shortSlug"
      linkage:
        viaField: "studyId"

run:
  idField: "id"
  baseDir: "runs"
  filenamePattern: "{{id}}_{{experimentShortSlug}}_{{date}}.yaml"
  idGeneration:
    prefix: "RUN"
    format: "RUN-{counter:0000}"
    counterFile: ".counters/run.counter"
  derivedFields:
    experimentShortSlug:
      sourceRecordType: "experiment"
      sourceField: "shortSlug"
      linkage:
        viaField: "experimentId"

plateLayout:
  idField: "id"
  baseDir: "plate_layouts"
  filenamePattern: "{{id}}_{{runId}}_{{title_sanitized}}.yaml"
  idGeneration:
    prefix: "PLT"
    format: "PLT-{counter:0000}"
    counterFile: ".counters/plate-layout.counter"

recipe:
  idField: "id"
  baseDir: "recipes"
  filenamePattern: "{{id}}_v{{version}}_{{title_sanitized}}.yaml"
  idGeneration:
    prefix: "REC"
    format: "REC-{counter:0000}"
    counterFile: ".counters/recipe.counter"

protocol:
  idField: "id"
  baseDir: "protocols"
  filenamePattern: "{{id}}_v{{version}}_{{title_sanitized}}.yaml"
  idGeneration:
    prefix: "PRO"
    format: "PRO-{counter:0000}"
    counterFile: ".counters/protocol.counter"
